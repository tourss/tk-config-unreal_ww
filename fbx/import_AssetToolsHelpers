import Unreal

def ImportAssets():
  """
  Import assets into project
  """
  #list of files to import
  file_names = [
        #파일 경로
    ]

  # create asset tools object
  assetTools = unreal.AssetToolsHelpers.get_asset_tools()
  # create asset import data object
  assetImportData = unreal.AutomatedAssetImportData()
  # set attributes
  assetImportData.destination_path = "/Game" #des 경로 설정
  assetImportData.filenames = file_names
  assetTools.import_assets_automated(assetImportData)
  # set up imported assets
  buildSelectedAssets(#경로 설정) Ex) /Game/Meshes/ImportTest
    
#########################################################################################################
def buildSelectedAssets(folder_path, file_names):

  textures = []
  geo = []
  EAL = unreal.EditorAsssetLibrary()
  materialParent = unreal.EditorAssetLibrary.load_asset(#material 경로설정)   #Ex)'/Game/Meshes/ImportTest/M_parent'
  for asset_path in EAL.list_assets(folder_path):
      asset_path = asset_path.split('.')[0]
      asset = EAL.load_asset(asset_path)
      try:
        assetImportData = asset.get_editor_property("asset_import_data")
        import_file_path = assetImportData.get_first_filenames()
        if import_file_path in file_names:
          if isinstance(asset, unreal.StaticMesh):
            geo.append(asset)
          if isinstance(asset, unreal.Texture):
            textures.append(asset)
      except AttibuteError: # not all assets have asset import data

    
imoprtAssets()
